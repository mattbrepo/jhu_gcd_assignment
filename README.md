# Johns Hopkins University - Getting and Cleaning Data course - Peer-graded Assignment

The purpose of this repository is to demonstrate my ability to collect, work with, and clean a data set. 

The goal is to prepare tidy data, that can be used for later analysis, starting from the data collected from experiments involving the use of accelerometers from the Samsung Galaxy S smartphone. More information about the data set and the experiment can be found [here](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones).

This original data set is automatically downloaded by the R script from [this](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip) location. 

## Repository content

* _run_analysis.R_: the R script that downloads the original zip file and generates the tidy data

* _tidy_data.txt_: the tidy data generated by _run_analysis.R_

* _CodeBook.md_: a code book that describes the variables, the data, and any transformations or work performed to clean up the data

* _README.md_: this file

## The run_analysis.R script

The request was to create one R script called run_analysis.R that does the following:

1. Merges the training and the test sets to create one data set.

2. Extracts only the measurements on the mean and standard deviation for each measurement.

3. Uses descriptive activity names to name the activities in the data set

4. Appropriately labels the data set with descriptive variable names.

5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

but before doing any of these the R script does:

* download the original zip file

* unzip it in the _UCI HAR Dataset_ folder

* read all the defined features from _features.txt_

* read, for both _train_ and _test_ sub-folders, the files containing 
  
  * the subject IDs (_subject_test.txt_ and _subject_train.txt_)
  
  * the activities IDs ( _y_test.txt_ and _y_train.txt_)
  
  * all the rest of the variables (_X_test.txt_ and _X_train.txt_)

At the end the R script writes the tidy data produced in step 5 in a file named _tidy_data.txt_.

### Extra notes on run_analysis.R

* Since the structures of _train_ and _test_ folders are the same I decided to write a function (_read_data_set_) to read the data and call it twice, once for _train_ and once for _test_.

* A TEST_FAST variable was created to allow me to test the code without keep on downloading and unzipping the original data set. It should be set to TRUE only for testing!

* I decided to remove the ActivityID column because I thought that the ActivityLabel column was enough

* The bit where I used regular expressions (step 4) could have be written in a more compact way but I prefer it like this because it's more readable.

